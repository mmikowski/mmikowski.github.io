---
layout: post
title: Install Kubuntu 19.10 and Apps for Web Development
---
*Install and configure Kubuntu 19.10 and Apps for Web
Development in an hour or two.*

<style>
table {
  font-size   : 13px;
  line-height : 15px;
  font-family : unset;
  border      : 4px solid #dddfe4;
}
code {
  font-size : 15px;
}
div.highlight {
  box-shadow  : rgba(12, 67, 32, 0.1) 0 0 1rem 0;
  border      : 4px solid #dddfe4;
  border-radius : 4px;
}
p > img {
  display    : block;
  margin     : 2rem auto;
  box-shadow : rgba(12, 67, 32, 0.2) 0 0 1rem 0;
  border     : 4px solid #808d8e;
  border-radius : 4px;
  max-width  : calc( 100% - 2rem );
  background : #808d8e;
}
p > img.noshadow {
  box-shadow : none;
  border: none;
  background: transparent;
}
</style>

## Introduction
### Purpose
Provide a thoroughly tested start-to-finish guide to install and configure
Kubuntu 19.10 (K19-10) and web development tools.

- Ensure answers are thorough and well-researched.
- Show screen shots for almost every step.
- Provide an explanation for each step.
- Add links to external resources when beneficial.

### Why *this* guide?
**Because it works.** The entire procedure below has been tested from start to
finish by end users five times with the author present. Feedback from these
sessions has been used to modify script, clarify text, and adjust images. We
try very hard to ensure accuracy and minimize confusion.

### Why Kubuntu?
The Plasma Desktop with KDE apps starts and runs fast, loads quickly,
is easy on resources, looks great, and is intuitive.  Kubuntu is an Ubuntu
derivative so it has the widest array of commercial Linux application support
out of the box. The **Apt** package ecosystem is mature and almost all
software can be installed with it. Daily updates keep the software current
and remove security risks quickly.

### Why this Author?
The author has used Unix or Linux as his primary OS for web app development
since 1993. He adopted RedHat in 1998 and then Kubuntu in 2006. He has managed
the software on multiple Linux clusters with dozens of servers each. He is
also RHEL5 certified (giggle if you must) and is the author and maintainer of
[Kubuntu Preferred Apps
Spreadsheet](https://docs.google.com/spreadsheets/d/1kLIYKYRsan_nvqGSZF-xJNxMkivH7uNdd6F-xY0hAUM).

### How to use this guide
This is long document with dozens of screen shots, and it is far too easy
to scroll past a step when using the scrollbar or scroll wheel. To avoid this
problem, we suggest using the arrow keys to scroll instead, and pay attention
to the step number to ensure it is in order.

## Table of Contents {#toc}
1.  [Select Hardware](#section1)
2.  [Prepare Install Image](#section2)
3.  [Review Selected Apps](#section3)
4.  [Create a Virtual Machine](#section4)
5.  [Install Kubuntu 19.10](#section5)
6.  [Apply Updates](#section6)
7.  [Optimize VirtualBox](#section7)
8.  [Configure Plasma](#section8)
9.  [Add Repos and Install](#section9)
10. [Install Addon Apps](#section10)
11. [Optimize Apps](#section11)
12. [Appendix A: Recent Build](#appendix-a)
13. [Appendix B: ShrinkPDF](#appendix-b)

## 1. Select Hardware [(top)](#toc) {#section1} 
Select hardware that is tested and compatible with Desktop Linux.

- CPU: AMD or Intel. Both are excellent.
- GPU: Nvidia or Intel. Prefer Nvidia for superior performance, stability,
  CUDA, deep learning support. AMD GPUs have gotten much better recently,
  but the author has not worked with them.
- Keyboard: Logitech K310 washable keyboard.
- Pointer: Logitech MarbleMouse. The trackball provides great control while
  avoiding repetitive stress injuries.
- Webcam: Logitech Webcam C615. Works out-of-the-box with Hangouts, Skype,
  Zoom, and other apps. Includes 1080p/30fps and a good mic.

See [Appendix A](#appendix-a) for my most desktop recent build which has been
amazing.  When buying a laptop, select one designed and shipped with Linux
like those offered by System76, Dell, or Levono. Otherwise, look online to
find those that work best with Ubuntu. Make sure key capabilities like screen,
WiFi, webcam, trackpad, keyboard, GPU, monitor, battery, and power management
are well supported.  **Do not** attempt to install on a recent MacBook Pro.
Apple is openly hostile to Linux on their hardware and have ensured the
experience is at best miserable and likely impossible.

## 2. Prepare Install Image [(top)](#toc) {#section2}
### 2.1. Download the ISO Image
Download the [19.10 bootable ISO image](https://kubuntu.org/getkubuntu/)
directly from Kuuntu. Make sure to validate the
[checksum](https://kubuntu.org/alternative-download).  The bootable ISO image
name is kubuntu-19.10-desktop-amd64.iso.

### 2.2. Create Bootable USB Drive
#### 2.2.1. VirtualBox
Skip this step. VirtualBox uses the ISO file directly.

#### 2.2.2. Physical Computer
Insert a small (4-8GB) USB drive into the computer with the downloaded ISO
image. When using a the Ubuntu OS, we may install the **Start Disk Creator**
with `sudo apt install -y usb-creator-kde`. Similar tools are available for
other OSes.  Select the ISO image and select the USB drive and the click on
**Make Startup Disk**. All content of the USB drive will be replaced in this
operation.

![K19-10 Startup Disk
Creator](/images/2019-10-04/20191011_173827.png "K19-10 Startup Disk Creator")

To use the CLI instead, see this [Ask Ubuntu
answer](https://askubuntu.com/questions/372607).

## 2. Review Selected Apps [(top)](#toc) {#section3}
Review the K19-10 Selected Apps chart below. These apps are installed or
optional in the steps below. Adjust as needed.

Key: repo = standard repo; crepo = custom (added) repo, custom =
custom installation; addon = added after repo install

| Role        | Name  | Source   | Notes  | Tags   | Updated  | Inc. |
| :---        | :---  | :---     | :---   | :---   | :---     | :--- |
| Role        | Name  | Source   | Notes  | Tags   | Updated  | Inc. |
| Audio control | pavucontrol | repo | Pulse audio volume and other settings. | audio, volume, mix, gstreamer, pulse audio | 2019-10-04 | Yes |
| Android Files | kde-connect, mtp-tools | repo | Android connection. Browser extensions for kde-connect are highly recommended. | mtp, android | 2019-10-04 | Yes |
| Audio Editing | audacity | repo | Audio editor | audio, wav, mp3, ogg | 2019-10-04 | Yes |
| Benchmark | sysbench | repo | Benchmark CPU, Disk, MySQL | benchmark | 2019-10-04 | Yes |
| Blog | blog, html, css, github | repo | Jekyll | blog, html, css, github | 2019-10-15 | Addon |
| Browser | google chrome | crepo | Best debugger, android integration chrome://inspect | browser, v8, html, javascript, css, web | 2019-10-04 | Yes |
| Browser | firefox, firefox-locale-en | repo | Firefox browser | browser, tracemonkey, spidermonkey, html, javascript, css, web | 2019-10-04 | Yes |
| Clean custom repos | ppa-purge | repo | Useful for removing repos and reverting to stock packages. For example, xorg-edgers can be trouble. See note \[Q\]. | ppa, purge, repository, remove | 2019-10-04 | Yes |
| Clipboard | \-- | \-- | Multi-register clipboard is now a core capability of Plasma. Remember to use it! | clipboard | 2019-10-04 | Yes |
| Codecs | codecs | repo | proprietary codecs kubuntu-restricted-extras, kubuntu-restricted-addons | flash, codec, movies, mp3 | 2019-10-04 | Yes |
| Compression | optipng | repo | Optimize PNG compression | png, compress | 2019-10-04 | Yes |
| Compression | rar | repo | RAR compression utilities | | 2019-10-04 | Yes |
| Compression | shrinkpdf | script | We used this to reduce a 5.2MB pdf to .18MB. Amazing. | pdf, compression, script | 2019-10-04 | Addon |
| Database | mysql, mysql-server | repo | A fantastic OSS option. Others include PostGreSQL, Mongo (better as a JSON cache, IMO), SQLite, etc. | sql | 2019-10-08 | Yes |
| Database GUI | \-- | \-- | Use the database tool found in IntelliJ | sql | 2019-10-08 | Yes |
| Dev - IDE | intellij ultimate | custom | Web application development IDE, best-in-class ease of use and feature.  We now use this instead of Webstorm as we need support for more languages.  Webstorm, RubyMine, Pycharm, et. al. are subsets. | java, python, javascript, css, html, bash, perl, xml, json | 2019-10-04 | Addon |
| Dev - Standard | build-essential openssh-server wajig | repo | Install these for app dev env. Remember ssh -X does X11 forwarding (very, very handy!). Make sure this is enabled by the openssh server first though. See this guide: https://unix.stackexchange.com/questions/12755 | tool chain, ssh, X11 | 2019-10-04 | Yes |
| Disk bench | bonnie++ | repo | Benchmark disk. | benchmark, disk, performance, read, write | 2019-10-08 | Yes |
| Disk bench | hdparm | repo | A simpler test: hdparm -t /dev/\<disk\> and hdparm -T /dev/\<disk\>. Use sdparm or hdparm -I /dev/sda to identify. | benchmark, disk, performance, read, write | 2019-10-04 | Yes |
| Doc Conversion | pandoc | repo | Useful to convert markdown -\> pdf or other formats. One must install pandoc pandoc-citeproc texlive haskell-platform | pdf, html, ODT, RTF, Textile, text, AsciiDoc, Epub | 2019-10-04 | Yes |
| Docker | docker-ce | crepo | Industry standard containers. | containers, docker | 2019-10-04 | Addon |
| Dropbox | dropbox | crepo | Fastest shared file solution | dropbox, share, shared, files | 2019-10-04 | Addon |
| DVD Rip | k3b | repo | CD and DVD ripper and burner | dvd, cd, burn, rip | 2019-10-04 | Yes |
| Encode | ffmpeg | repo | Encoding to mp3, video codecs. Was formerly replaced with a fork of ffmpeg called \'lib-avtools\'. Use \'avconv\' and \'avplay\' | mp3, mp4, ffmpeg, avconv, avplay | 2019-10-08 | Yes |
| Fonts | ttf-mscorefonts-installer | repo \[YE\] | Install to get Arial, Courier new, and other standard MS fonts. | fonts, truetype | 2019-10-04 | Yes |
| Hardware Info | hwinfo, lshw, lspci, lsusb, dmidecode | repo | List motherboard, peripherials, etc. Also try \'cat /proc/cpuinfo\' | hardware, peripherals, usb, pci | 2019-10-04 | Yes |
| Image Edit | gimp, gimp-data-extras, gimp-help-en | repo, crepo | Very Photoshop like and quite compatible with Adobe tools. Use \`dbus-launch gimp\` if screen capture isn\'t working. | graphics, Photoshop, red eye. CMYK plugin: http://cue.yellowmagic.info/softwares/separate-plus/index.html | 2019-10-04 | Yes |
| Image SVG | inkscape | crepo \[S\] | A very good SVG editor | graphics, SVG | 2019-10-04 | Yes |
| Java | openjdk | repo | OpenJDK has become standard; if Oracle is needed, see notes install notes below. | java, jdk, jre, oracle | 2019-10-04 | Yes |
| JSON prettyprint | python | \-- | For convenience add this to \~/.bashrc: alias prettyjson=\'python -m json.tool\'. See JSON.stringify(obj, null, 2) for a faster alternative. | 2019-10-04 | Yes |
| Music Player | Cantana | repo | Looks interesting, but we have not used it. | mp3, music, album | 2019-10-04 | Yes |
| Network Files | nfs-common | repo | NFSv4 Network files system. | nfs, nfsv4, filesystem | 2019-10-04 | Yes |
| NodeJS | nodejs | crepo | JavaScript web server | nodejs, node.js, npm | 2019-10-04 | Yes |
| Office Suite | LibreOffice | repo | Version 6.3 | Word, Excel, Access, Base, Sheets, Presents, Keynote, Powerpoint | 2019-10-04 | Yes |
| Package mgmt | apt, dpkg | repo | See Notes \[W\] and \[X\] | apt, apt-cache, apt-get, hold, muon, pin, wajig, Discover | 2019-10-04 | Yes |
| PDF annotate | okular | repo | Best PDF view/annotator for linux | view, annotate, PDF | 2019-10-04 | Yes |
| PDF diff | diffpdf | repo | Compare PDF content or visuals | diff, compare, PDF | 2019-10-08 | Yes |
| PDF Edit | pdfshuffler | repo | See all pdf tools, type pdf\<tab\> | concatenate, rearrange, delete, PDF | 2019-10-08 | Yes |
| Power Control | upower | repo | Use \'upower -e\' to show devices and upower -i \'device\' to inspect.  Should be installed by default. See http://askubuntu.com/questions/69556 | power, laptop, battery, command line, cli | 2019-10-08 | Yes |
| Screen measure | kruler |repo | Measure screen distances. Useful for screen captures. | ruler, kruler, meausre | 2019-10-17 | Yes |
| Screen recording | simple screen recorder, obs-studio | repo | The first (simplescreenrecorder) is easiest to use, the last (obs-studio) was more powerful but more complex and less stable. | screencast, recorder, audio, video, capture | 2019-10-08 | Yes |
| Slack | slack-desktop | repo | Available in Multiverse as slack-desktop | slack | 2019-10-08 | Addon |
| Steam | steam | repo | Available in Multiverse as steam-installer | steam | 2019-10-08 | Yes |
| Source Control | git, subversion, gitolite3 | repo | Use GitoLite as a git repository. Setup is 5 minutes. See https://help.ubuntu.com/lts/serverguide/git.html and http://blog.aplikacja.info/2010/08/switch-origin-of-your-git-repository | scms, git, svn, subversion | 2019-10-08 | Yes |
| Telegram | telegram, telegram-cli, telegram-desktop, telegram-purple | repo | Emerson Pardo recommended Telegram. | telegram, messaging, whatsapp | 2019-10-08 | Addon |
| Text editor | vim or neovim | repo | We switch between the two. | vim, neovim | 2019-10-08 | Yes |
| Virtual terminal resolution | grub | repo\[U\] | See notes | grub, grub2, vbeinfo, vga | 2019-10-08 | Yes |
| Video Acceleration | vdpau | repo | Provides hardware encoding and decoding | gpu, Nvidia, vdpau, encode, decode, hardware | 2019-10-08 | Yes |
| Video Chat | Hangouts | n/a | Use Google Hangouts in Google Chrome | talk, voice, voip | 2019-10-08 | n/a |
| Video Encode | handbrake | crepo | Usually better at backing up encrypted content. Previously the Handbrake in the repo had mp4 support disabled. Have not confirmed for 19.10. | dvd, burn, rip | 2019-10-04 | Yes |
| Video Player | vlc | repo | VLC plays just about all formats. Handy to have around | video, movie, playback | 2019-10-08 | Yes |
| Visual Diff | meld, kdiff3 | repo | Compare 3 sources across directory trees. Much better than Github when trying understand how things have changed. Meld has a nicer interface, but sometimes Kdiff3 is faster. | diff, visual diff, meld, kdiff3 | 2019-10-08 | Yes |
| Wallpapers | backgrounds | repo | Various backgrounds are found in /usr/share/backgrounds and /usr/share/wallpapers. | ubuntu-wallpapers ubuntu-wallpapers-\<release\> plasma-workspace-wallpapers | 2019-10-08 | Yes |
| Webcam control | guvcview | repo | Great tools for testing webcam | webcam, cam | 2019-10-08 | Yes |
| Wireframes | Balsamiq Mockups | custom | An easy-to-use wireframe tool. Version 3 provides symbols so that engineering drawing change control is now easier. | wireframes, mockups | 2019-10-08 | Addon |
| X select | xsel | repo | X selection utility, useful for cut-n-paste for vim | xsel, X select | 2019-10-08 | Yes |

Coming soon: Kuberneties, Azure CLI, AWS, Google Cloud, Zoom. Add more in the comments
if you wish to see more.

## 4. Create a Virtual Machine [(top)](#toc) {#section4}
Skip this section when installing on a physical computer.

### 4.1. Why a virtual machine?
We recommend using a virtual machine to test Kubuntu 19.10 and apps before
committing to a full upgrade or installation on a physical computer. It is
a great way to ensure everything works as desired before committing to a
phsical computer.

Our testing to date has shown all apps work well with just some config
adjustments which have been documented here.

### 4.2. Install VirtualBox
When using \*Ubuntu 16.04+ as the **Host OS**, enter the code below into a
terminal to install. For other OSes, see the [VirtualBox
site](https://www.virtualbox.org/wiki/Downloads).

```bash
sudo install virtualbox virtualbox-ext-pack virtualbox-guest-additions-iso
```

- `virtualbox` is the core app
- `virtualbox-ext-pack` enables USB2+ and other advanced features
- `virtualbox-guest-additions-iso` provides additions used by
   **Guest OS** to provide an improved experience.

### 4.2. Create a new instance
Start VirtualBox and click on **New**.

![k19-10 Virtualbox - Start app](/images/2019-10-04/20191017_184825.png){:.noshadow}

#### 4.2.1. Set memory size and other details
Inspect every field here. Try to provide at least 4GB of RAM for testing
purpose. Plasma is pretty light on resources, but apps like **Gimp** and
**IntelliJ** eat lots of RAM when editing large images or projects.

![k19-10 Virtualbox - ](/images/2019-10-04/20191017_184941.png){:.noshadow}

#### 4.2.2. Create hard disk
![k19-10 Virtualbox - ](/images/2019-10-04/20191017_185017.png){:.noshadow}

#### 4.2.3. Adjust resources
![k19-10 Virtualbox - ](/images/2019-10-04/20191017_185051.png){:.noshadow}

![k19-10 Virtualbox - ](/images/2019-10-04/20191017_185207.png){:.noshadow}

#### 4.2.4. Allocate threads
Allocate a minimum of 2 threads.

![k19-10 Virtualbox - ](/images/2019-10-04/20191017_185251.png){:.noshadow}

![k19-10 Virtualbox - ](/images/2019-10-04/20191017_185330.png){:.noshadow}

#### 4.2.5. Adjust display {#enable3D}
Turn off compositing **\<shift + f12\>** on **both** the host and guest OS to
maximize performance. Make sure to select **VBoxSVGA** as the **Graphics
Controller** and **Enable 3D Acceleration**. Do not **Enable 2D Video
Acceleration**.

![k19-10 Virtualbox - ](/images/2019-10-04/20191017_185416.png){:.noshadow}

#### 4.2.6. Add guest additions image
The **Guest OS** is prone to graphics artifacts and integration limitations
guest software is installed. This makes the software easily accessible later
in the process.

![k19-10 Virtualbox - ](/images/2019-10-04/20191017_185440.png){:.noshadow}

![k19-10 Virtualbox - ](/images/2019-10-04/20191017_185539.png){:.noshadow}

![k19-10 Virtualbox - ](/images/2019-10-04/20191017_185612.png){:.noshadow}

#### 4.2.7. Adjust USB
![k19-10 Virtualbox - ](/images/2019-10-04/20191017_185658.png){:.noshadow}

#### 4.2.8. Power-on
![k19-10 Virtualbox - ](/images/2019-10-04/20191017_185751.png){:.noshadow}

#### 4.2.9. Select the Kubuntu 19.10 ISO
![k19-10 Virtualbox - ](/images/2019-10-04/20191017_185816.png){:.noshadow}

![k19-10 Virtualbox - ](/images/2019-10-04/20191017_190016.png){:.noshadow}

![k19-10 Virtualbox - ](/images/2019-10-04/20191017_190217.png){:.noshadow}

#### 4.2.10. Click start
![k19-10 Virtualbox - ](/images/2019-10-04/20191017_190239.png){:.noshadow}

#### 4.2.11. Boot up
![k19-10 Virtualbox - ](/images/2019-10-04/20191017_190337.png){:.noshadow}


## 4. Install Kubuntu 19.10 [(top)](#toc) {#section5}
### 4.3. Boot from the USB Drive
#### 4.3.1. VirtualBox
VirtualBox will prompt for the ISO file to boot from when a new virtual
computer is started. Provide the ISO file previously downloaded, e.g.
`kubuntu-19.10-beta-desktop-amd64.iso`.

#### 4.3.2. Physical computer
Power-off the target computer and insert the Bootable USB Drive into a
USB port and then power-on. One may need to select the boot device
(typically using the F12 key) if the installer does not appear and try
again. Once the installer is present, click on **Install Kubuntu** to
begin.

![K19-10 Live USB First
Screen](/images/2019-10-04/20191003_102037.png "K19-10 Live USB First Screen")

### 4.4. Select keyboard
This typically requires no changes.

![K19-10 Select
keyboard](/images/2019-10-04/20191003_102050.png "K19-10 Select keyboard")

### 4.5. Select default install
Select the default install. Skimping on tools to save perhaps a GB or
two of diskspace is hardly worth it.

![K19-10 Select default
install](/images/2019-10-04/20191003_102104.png "K19-10 Select default install")

### 4.6. Select Manual install
Select **Manual** and click **Continue** to partition disk.

![K19-10 Selet Manual
install](/images/2019-10-04/20191003_102217.png "K19-10 Elect to edit partitions")

### 4.7. Add partitions
Click to select the `/dev/sda` device and click **Add**. A modal window 
appears. Set the **Size** to **8192 MB**, set the **Type** to **swap space**,
and then approve the partition. This swap is used by the system and also is 
needed (or at least preferred) for the suspend-to-disk feature of the OS.

Click again on the `/dev/sda` device and click **Add**. A similar modal window
appears. Accept the **Size** value to use all the remaining space.  Set
**Type** to **Ext4** and set **Mount point** to **/** and then approve the
partition.

![K19-10 Add partitions
sizes](/images/2019-10-04/20191003_102322.png "K19-10 Specify partitions")

### 4.8. Commit partitions
Click on **Install Now**. A modal window appears warning that continuing
**will remove** any prior content in the partitions. Click on **Continue** to
proceed.

![K19-10 Commit 
partitions](/images/2019-10-04/20191003_102333.png "K19-10 Commit partition changes")

### 4.9. Select time zone
Select a time soon and click **Continue**

![K19-10 Select time
zone](/images/2019-10-04/20191003_102346.png "K19-10 Select time zone")

### 4.10. Create admin user
This user is granted admin (sudo) rights.

![K19-10 Create admin
user](/images/2019-10-04/20191003_102821.png "K19-10 Create admin user")

### 4.11. Watch the slide show
A test install with 40MB/s internet and fast hardware took 3 minutes, but it
could take quite a bit longer if the storage, internet, memory, or CPU is
slow.

![K19-10 Watch the slide
show](/images/2019-10-04/20191003_102829.png "K19-10 Watch the slide show")

### 4.12. Keep watching
More slides appear as the installation progresses. This is normal.

![K19-10 Keep
watching](/images/2019-10-04/20191003_103135.png "K19-10 Keep watching")

### 4.13. Reboot after install

![K19-10 Reboot after install](/images/2019-10-04/20191017_191541.png "K19-10
Reboot after install")

## 6. Apply Updates [(top)](#toc) {#section6}
### 6.1. First sign-in
This sign-in screen should appear 20-30s after boot. Enter the username
and password provided earlier.

![K19-10 First
sign-in](/images/2019-10-04/20191003_103835.png "K19-10 First sign-in")

### 6.2. Enjoy the splash screen
Plasma has a splash screen which looks like this. On modern hardware, it
appears for less than 5 seconds, and often less than one second. We
disable it in the steps below.

![K19-10 Splash
screen](/images/2019-10-04/20191003_103900.png "K19-10 Splash screen")

### 6.3. Review desktop
This is the default desktop.

![K19-10 Default
desktop](/images/2019-10-04/20191003_103907.png "K19-10 Default desktop")

### 6.4. Open Discover app
The user is notified of updates on sign-in. As a habit, it is best to do apply
them right after install and at the beginning of every work day. Click on
**Update** in the notification to open the Discover software package
management app. One can also start Discover from the K-menu at the Bottom
Left. Once open, click on **Updates** at the bottom left of the app to see all
updates.

![K19-10 Open Discovery
app](/images/2019-10-04/20191003_103919.png "K19-10 Open Discovery app")

### 6.5. Initiate updates
There are over one hundred updates available. Click on **Update All** at
the top right.

![K19-10 Initiate
updates](/images/2019-10-04/20191003_104008.png "K19-10 Initiate updates")

### 6.6. Authorize updates
Provide the user password to proceed.

![K19-10 Authorize
updates](/images/2019-10-04/20191003_104035.png "K19-10 Authorize updates")

### 6.7. Watch update progress
The task bar indicator shows percentage completion which is a nice
touch. Our 71 updates took around 5 minutes.

![K19-10 Watch update
progress](/images/2019-10-04/20191003_104141.png "K19-10 Watch update progress")

### 6.8. Complete updates and power-off
Successful completion of updates should look like the following screenshot.
After this is finished, use the menu to power-off the computer.

![K19-10 Complete updates and
power-off](/images/2019-10-04/20191003_104314.png "K19-10 Complete updates and power-off")

## 6. Optimize VirtualBox [(top)](#toc) {#section7}
Skip this section when installing on a physical computer.

### 6.1. Open the guest additions disk
The guest additions appear as an optical disk. Click on the USB icon to access
this disk and open it with the file manager.

![K19-10 VirtualBox - Open guest addition disk
](/images/2019-10-04/20191003_104351.png "K19-10 VirtualBox - Open guest addition disk ")

### 6.2. Open a terminal
Right click on the file view and select **Actions \> Open Terminal Here**.

![K19-10 VirtualBox - Open
terminal](/images/2019-10-04/20191003_104416.png "K19-10 VirtualBox - Open terminal")

### 6.3. Install additions {#guestadditions}
Enter the following into the terminal to install the prerequisite packages.

```bash
sudo apt install build-essential gcc make perl dkms;
```

Enter the following into the terminal to install the additions.

```bash
sudo ./VBoxLinuxAdditions.run
```

![K19-10 VirtualBox - Install
addons](/images/2019-10-04/20191003_110128.png "K19-10 VirtualBox - Install addons")

Once installation is complete, power-off the virtual machine. One may now
enable [3D Acceleration in settings](#enable3D). After restarting one may
adjust copy-n-paste and drag-n-drop under the VirtualBox **Devices** menu.

## 8. Configure Plasma [(top)](#toc) {#section8}
### 8.1. Configure panel
We prefer the panel on the right side to maximize vertical space. Right
click on the panel and select **Panel Options \> Configure Panel**

![K19-10 Configure
panel](/images/2019-10-04/20191003_110437.png "K19-10 Configure panel")

### 8.2. Move panel to right edge
Click on the screen edge button to move the panel.

![K19-10 Move panel to right
edge](/images/2019-10-04/20191003_110506.png "K19-10 Move panel to right edge")

### 8.3. Widen the panel
We widen the panel a bit.

![K19-10 Widen the
panel](/images/2019-10-04/20191003_110525.png "K19-10 Widen the panel")

### 8.4. Configure desktop
Right-click on the desktop and select **Configure Desktop**

![K19-10 Configure
desktop](/images/2019-10-04/20191003_110545.png "K19-10 Configure desktop")

### 8.5. Change background
We like the picture of the day. Adjust as desired

![K19-10 Change
background](/images/2019-10-04/20191003_110617.png "K19-10 Change background")

### 8.6. Hide toolbox
The toolbox can get in the way. After hiding, click **OK**.

![K19-10 Hide
toolbox](/images/2019-10-04/20191003_110648.png "K19-10 Hide toolbox")

### 8.7. Open system settings
Open system settings from the K menu and then pin to the task manager.

![K19-10 Open system
settings](/images/2019-10-04/20191003_110757.png "K19-10 Open system settings")

### 8.8. Change theme
Select Breeze Dark theme.

![K19-10 Change
theme](/images/2019-10-04/20191003_111533.png "K19-10 Change theme")

### 8.9. Change cursor size
We prefer larger cursors for demonstration purposes. Change this in the
**Size** field.

![K19-10 Change cursor
size](/images/2019-10-04/20191003_111605.png "K19-10 Change cursor size")

### 8.10. Disable splash screen
The splash screen only shows for a second or so on modern hardware.
Disabling removes visual noise.

![K19-10 Disable splash
screen](/images/2019-10-04/20191003_111817.png "K19-10 Disable splash screen")

### 8.11. Set Colors
This should already be set to **Breeze Dark**.

![K19-10 Set Colors](/images/2019-10-04/20191003_111957.png "K19-10 Set Colors")

### 8.12. Set Fonts
Those with 4K monitors may wish to scale their interface. The best
method we have found is to adjust the DPI value under fonts and leave
the **fractional scaling** setting alone. In this case, we leave the DPI
alone.

![K19-10 Set Fonts](/images/2019-10-04/20191003_112042.png "K19-10 Set Fonts")

### 8.13. Set Icons
This should already be set to **Breeze Dark**.

![K19-10 Set Icons](/images/2019-10-04/20191003_112243.png "K19-10 Set Icons")

### 8.14. Set GTK style
Click on **Application Style \> GNOME/GTK Application Style**. Set to
**Breeze Dark** as shown. This is required to ensure GTK apps such as
Firefox or LibreOffice use a dark theme.

![K19-10 Set GTK
style](/images/2019-10-04/20191013_213633.png "K19-10 Set GTK style")

### 8.15. Set Window Decorations
Click on **Application Style \> Window Decorations**. This should
already be set to **Breeze**. We do not change the title bar buttons.

![K19-10 Set Window
Decorations](/images/2019-10-04/20191003_112658.png "K19-10 Set Window Decorations")

### 8.16. Use Workspace defaults
Click on **Desktop Behavior**. Preserve defaults for Workspace.

![K19-10 Use Workspace
defaults](/images/2019-10-04/20191003_112734.png "K19-10 Use Workspace defaults")

### 8.17. Adjust window edges
In **Desktop Behavior \> Screen Edges** turn off maximize features.  Instead,
prefer to use **\<meta + leftarrow\>** or **\<meta + rightarrow\>** to tile
windows. One can also click with the middle or right mouse button on the
maximize-window control to toggle a window vertically or horizontally.

![K19-10 Adjust window
edges](/images/2019-10-04/20191003_113000.png "K19-10 Adjust window edges")

### 8.18. Set screen lock
In **Desktop Behavior \> Screen Locking** set the background to match
the desktop.

![K19-10 Set screen
lock](/images/2019-10-04/20191003_185645.png "K19-10 Set screen lock")

### 8.19. Add virtual desktops
In **Desktop Behavior \> Virtual Desktops** add three rows and use slide
animation.

![K19-10 Add virtual
desktops](/images/2019-10-04/20191003_185746.png "K19-10 Add virtual desktops")

### 8.20. Test sound
In **Multimedia \> Audio and Video** click on the **Test** button to
ensure audio is working.

![K19-10 Test sound](/images/2019-10-04/20191003_201853.png "K19-10 Test sound")

Now close system settings.

### 8.21. Set virtual desktops rows
Right click on the virtual desktops in the panel and **Configure
pager**. Click to display the desktop name.

![K19-10 Set virtual desktops rows
desktops](/images/2019-10-04/20191003_202024.png "K19-10 Enable virtual desktops")

### 8.22. Move virtual desktops
Right click on the panel and select **Configure Panel** and then drag
the virtual desktop widget to the desired location on the panel.

![K19-10 Move virtual
desktops](/images/2019-10-04/20191003_202100.png "K19-10 Move virtual desktops")

### 8.23. Review the results
Virtual desktops are now at the bottom.

![K19-10 Review the
results](/images/2019-10-04/20191003_202125.png "K19-10 Admire the desktop")

## 8. Add Repos and Install [(top)](#toc) {#section9}
In this section we add repositories (repos) which are optional sources of
software and then install our applications. Most of the repos are
[PPAs](https://itsfoss.com/ppa-guide/). Using repos provides all these
benefits.

1. Almost all software maintenance uses the single Apt package system.  There
   are many mature tools that tie into this system and make software
   maintenance typically much simpler and more complete than on other OSes.
1. Installation and updates employ security features such as signed packages.
   This greatly reduces the likelyhood that someone has inserted a **Trojan
   Horse** (e.g. key-logger or phone-home feature) by ensuring the package has
   the same checksums as when it was first assembled.
1. We can install latest versions of free software. For example, Handbrake,
   Gimp Inkscape, LibreOffice, and others have repos where newer or less
   restricted versions are often available.
1. We can install latest versions of commerical software maintained by
   companies. Examples include NodeJS, Insync, and Google Chrome. A few of
   these cost money after a trial period. We add them because we found
   them well worth the cost for a professional developer.

The typical way to add a distro is shown below. Do **not** enter this into the
terminal.

```bash
# sudo add-apt-repository <repository-spec>
```

This method ensures that encryption keys are added to the package management
database. Commercial vendors typically use a similar process but add keys in a
separate step. We use a script to download the most keys at once.

### 8.1. Open Konsole
The KDE terminal app is called **Konsole**. Press **\<alt + space\>** and
type **konsole** and then press **\<enter\>** to quickly find and start it.

![K19-10 Open
Konsole](/images/2019-10-04/20191003_202335.png "K19-10 Open Konsole")

### 8.2. Pin Konsole to Panel
We use the terminal frequently.

![K19-10 Pin Konsole to
Panel](/images/2019-10-04/20191003_202405.png "K19-10 Pin Konsole to Panel")

### 8.3. Ensure packages are current
Enter the following into the terminal to ensure all packages are current.

```bash
sudo apt update && sudo apt upgrade && sudo apt dist-upgrade
```

![K19-10 Ensure packages are
current](/images/2019-10-04/20191003_202716.png "K19-10 Ensure packages are current")

### 8.4. Add repo files
Enter the following into the terminal to generate the file `vi ~/ag.txt`.  Each
repository file destined for /etc/apt/sources.list.d us marked by the `#_`
prefix. subsequent lines are placed in the file. Empty lines and those
prefixed by `#x` are ignored.

```bash
echo '#x Last update 2019-10-16
#x REMOVED
#x - repo.steampowered.com/steam; see multiverse `steam-installer`
#x - ppa.launchpad.net/webupd8team/java/ubuntu; was empty and apparently defunct
#x
#x [arch=amd64] is used to avoid warnings on some repos.
#x
#x Oracle Java license has changed. If needed, see linixhint.com/install_jdk12_ubuntu_1904
#x and `sudo add-apt-repository ppa:linuxuprising/java`
#x

#_ chrome-remote-desktop.list
deb [arch=amd64] http://dl.google.com/linux/chrome-remote-desktop/deb stable main

#_ docker.list
# 2019-10-16 Eoan not yet available
deb [arch=amd64] https://download.docker.com/linux/ubuntu disco stable

#_ dropbox.list
# 2019-10-16 Eoan, Disco not available
deb [arch=amd64] http://linux.dropbox.com/ubuntu cosmic main

#_ gimp.list
deb http://ppa.launchpad.net/otto-kesselgulasch/gimp/ubuntu eoan main

#_ google-chrome.list
deb [arch=amd64] http://dl.google.com/linux/chrome/deb stable main

#_ google-talk.list
# 2019-10-16 Disabled until we know we need it
# deb [arch=amd64] http://dl.google.com/linux/talkplugin/deb stable main

#_ graphics-drivers-ppa.list
deb http://ppa.launchpad.net/graphics-drivers/ppa/ubuntu eoan main

#_ inkscape_dev-stable.list
# 2019-10-16 Disabled until eoan available (use default inkscape)
# deb http://ppa.launchpad.net/inkscape.dev/stable/ubuntu disco main

#_ insync.list
# 2019-10-19 Updated to latest repo
deb http://apt.insync.io/ubuntu eoan non-free contrib

#_ kubuntu-ppa-backports.list
deb http://ppa.launchpad.net/kubuntu-ppa/backports/ubuntu eoan main

#_ neovim-stable-ppa.list
# 2019-10-16 Enable if desired, Eoan not yet available
# deb-src http://ppa.launchpad.net/neovim-ppa/stable/ubuntu disco main

#_ nodesource.list
# 2019-10-16 Eoan not yet available
deb https://deb.nodesource.com/node_10.x disco main

#_ skype-stable.list
deb [arch=amd64] https://repo.skype.com/deb stable main

#_ slack.list
deb https://packagecloud.io/slacktechnologies/slack/debian jessie main

#_ stebbins-handbrake.list
# 2019-10-16 Eoan not yet available
deb http://ppa.launchpad.net/stebbins/handbrake-releases/ubuntu disco main

#_ teejee2008-ubuntu-ppa.list
# Provides TimeShift (see var/lib/apt/lists/, wajig detail timeshift)
#   which looks useful
deb http://ppa.launchpad.net/teejee2008/ppa/ubuntu eoan main
' > ~/ag.txt
```

![K19-10 Add
repositories](/images/2019-10-04/20191003_202809.png "K19-10 Add repo files")

### 8.5. Install the repositories
Enter the following into the terminal to convert `~/ag.txt` to repository
definitions.

```bash
_tgt_dir="/etc/apt/sources.list.d";
_bkp_dir="${_tgt_dir}.O";
_tmp_dir="/tmp/sources.list.d";

if ( sudo mv "${_tgt_dir}" "${_bkp_dir}" ); then
  echo "Installing repository files to ${_tgt_dir}";
  sudo mkdir /etc/apt/sources.list.d;
  pushd /etc/apt/sources.list.d > /dev/null;
  grep -Ev '^#x|^\s*$' ~/ag.txt | while read _line; do
    if ( echo "${_line}" | grep -q '^#_' );
      then
        _tgt_file=$(echo "${_line}"|cut -f2 -d' ');
        echo; echo "CREATE ${_tgt_file}";
      else
        echo "${_line}" | sudo tee -a "${_tgt_file}";
    fi;
  done;
  popd > /dev/null;
else
  echo "Could not move ${_tgt_dir} ${_bkp_dir}. Please try running";
  echo "  'sudo rm -rf ${_tmp_dir} && sudo mv ${_bkp_dir} ${_tmp_dir}'";
  echo "  and then reattempt this action.";
fi
```

![K19-10 Install
repositories](/images/2019-10-04/20191003_203103.png "K19-10 Install repositories")

### 8.6. Update repository keys
Enter the following into the terminal to install all the keys for the
repositories we just added.

```bash
sudo ls >/dev/null && if [ 1 ]; then
  sudo apt update 2>&1 | grep NO_PUBKEY | sed -e 's?^.*NO_PUBKEY ??' \
  | while read _hash; do
      wget -O- "http://keyserver.ubuntu.com/pks/lookup?op=get&search=0x${_hash}" \
        | sudo apt-key add -;
  done
fi
```

![K19-10 Update repository
keys](/images/2019-10-04/20191003_203238.png "K19-10 Update repository keys")
![K19-10 Update
in-progress](/images/2019-10-04/20191003_203354.png "K19-10 Update in-progress")

### 8.7. Generate ssh keys
Enter the following to create an SSH RSA key. This is required for gitolite3
configuration. When prompted to enter a passphrase, **press \<enter\>** both
times.

```bash
mkdir .ssh;
chmod 700 .ssh;
ssh-keygen -t rsa;
```

![K19-10 Generate ssh
keys](/images/2019-10-04/20191008_202826.png "K19-10 Generate ssh keys")

### 8.8. Install repo packages
#### 8.8.1. Update packages
Enter the following into the terminal to ensure all packages are current.

```bash
sudo apt update && sudo apt upgrade && sudo apt dist-upgrade
```

There **will** be upgrades as we have enabled repos that provide newer
versions of software. Approve them and then continue.

![K19-10 Install repo
packages](/images/2019-10-04/20191003_203535.png "K19-10 Install repo packages")

#### 8.8.2. Install apps from repos
Enter the following into the terminal to install most of the apps specified in
the [Selected Apps](#section3) table.

```bash
sudo apt install \
  apt-file audacity build-essential diffpdf dmidecode ffmpeg gimp            \
  gimp-data-extras gimp-help-en git gitolite3 google-chrome-stable           \
  guvcview handbrake haskell-platform htop hwinfo kdiff3 kruler              \
  kubuntu-restricted-extras meld mesa-utils mlocate mtp-tools mysql-client   \
  mysql-server net-tools nfs-common openssh-server p7zip-full p7zip-rar      \
  pandoc pandoc-citeproc pavucontrol pdfshuffler ppa-purge rar sdparm        \
  sysstat texlive tree ttf-mscorefonts-installer ubuntu-wallpapers vim-gtk   \
  vim-nox vim-syntax-gtk wajig xsel inkscape xserver-xorg-input-evdev;
```

![K19-10 Install apps from
repos](/images/2019-10-04/20191003_204427.png "K19-10 Install apps from repos")

#### 8.8.3. Confirm install
![K19-10 Confirm
install](/images/2019-10-04/20191003_204446.png "K19-10 Confirm install")

#### 8.8.4. Download apps
Installation takes 5-10 minutes.

![K19-10 Download
apps](/images/2019-10-04/20191003_204505.png "K19-10 Download apps")

#### 8.8.5. Approve font install
After downloads some packages require the admin to assist in configuration.
The MS Font install requires approvals as shown. Press **\<tab\>** or the
arrow keys to select **OK** and then press **\<return\>**. Use the same
technique to select and accept **Yes** on the next screen.

![K19-10 Approve font
install](/images/2019-10-04/20191003_204730.png "K19-10 Approve font install")

![K19-10 Approve font
install](/images/2019-10-04/20191003_204809.png "K19-10 Approve font install")

#### 8.8.6. Configure Gitolite3
After downloads some packages require the admin to assist in
configuration. GitoLite3 requests the `id_rsa.pub` file generated earlier.
Navigate the page using **\<tab\>** or arrow keys as discussed in 8.8.5.

![K19-10 Gitolite Config
3](/images/2019-10-04/20191008_202847.png "K19-10 Gitolite Config 3")

**If the install completes without asking to configure gitolite**, use
`sudo dpkg-reconfigure gitolite3` to access the screen above. Accept the
defaults, but set the pub key as `/home/<username>/.ssh/id_rsa.pub` as shown
above.

#### 8.8.6. Watch installation progress
Packages installation progress is as shown.

![K19-10 Watch installation
progress](/images/2019-10-04/20191003_204834.png "K19-10 Watch installation progress")

### 8.9. Reboot after installation
Reboot the system once all packages are installed. Click on **K-menu** >
**Leave** > **Restart**.

## 10. Install Addon Apps [(top)](#toc) {#section10}

### 10.1. Docker
Enter the following into the terminal to install Docker. The required repo already added in [Add Repos and Install](#section9).

```bash
sudo apt -y install docker-ce
```

### 10.2. Dropbox
Enter the following into the terminal to install Dropbox and start the service. The required repo already added in [Add Repos and Install](#section9).

```bash
sudo apt install -y dropbox && dropbox start -i
```

Agree to install and start the dropbox daemon. After the daemon is installed,
a browser window opens prompting the user to authorize the Dropbox folder.
Enter the username and password to attach a Dropbox account or create an
account if needed.

### 10.3. Balsamiq
Baslamiq is not a repo install and requires a more work. [This
site](http://deshack.net/install-balsamiq-mockups-in-debianubuntu/) showed us
the way.

#### 10.3.1. Install wine packages
Enter the following into the terminal to install wine with a boatload of
`i386` packages. Wait for the installation to complete before proceeding.

```bash
sudo apt install -y wine-stable winetricks
```

![K19-10 Balsamiq - Install wine
packages](/images/2019-10-04/20191004_155410.png "K19-10 Balsamiq - Install wine packages")


![K19-10 Balsamiq - Accept wine
packages](/images/2019-10-04/20191004_155442.png "K19-10 Balsamiq - Accept wine packages")

#### 10.3.2. Download Balsamiq bundle
Download Adobe Air from the [Balsamiq
Site](https://balsamiq.com/wireframes/desktop/) by clicking the link **With
Adobe Air bundled** under the section **Other Windows Installers**. If
prompted to agree to the Balsamiq terms of use, Click **I Agree** to continue.
A `zip` file should be downloaded.

![K19-10 Balsamiq - Download
bundle](/images/2019-10-04/20191004_160855.png "K19-10 Balsamiq - Download bundle")

#### 10.3.4. Install to /opt
Enter the following into the terminal to install Balsamiq to the `/opt`
directory and set up symbolic links. Beware that we may need to change names
and links if the downloaded file changes. For example, if the download file is
updated to `Balsamiq_Mockups_3.5.18_bundled.zip`, we should use
`baslamiq_3_5_18` for our symbolic link.

```bash
sudo ls >/dev/null && if [ 1 ]; then
  pushd /opt
  sudo ln -s Balsamiq_Mockups_3 balsamiq_3_5_17
  sudo ln -s Balsamiq_Mockups_3 balsamiq
  pushd /opt/balsamiq
  sudo ln -s 'Balsamiq Mockups 3.exe' balsamiq.exe
  popd; popd;
  echo "SUCCESS: Balsamiq links configured";
else
  echo "FAIL   : Balsamiq links configured";
fi
```

#### 10.3.5. Add desktop file
Enter the following into the terminal to install a desktop file so one can
easily access the app from the K-menu. We use symbolic links for references so
we should not need to update this file.

```bash
echo '[Desktop Entry]
Encoding=UTF-8
Name=Balsamiq Mockups
Icon=/opt/balsamiq/icons/mockups_ico_48.png
Exec=wine '/opt/balsamiq/Balsamiq Mockups 3.exe'
Type=Application
Categories=Graphics;
MimeType=application/x-xdg-protocol-tg;x-scheme-handler/tg;g;' \
  | sudo tee /usr/share/applications/balsamiq.desktop
```

![K19-10 Balsamic - Add desktop
file](/images/2019-10-04/20191004_161255.png "K19-10 Balsamic - Add desktop file")

#### 10.3.6. Start Balsamiq
**After wine installation is complete**, Start Balsamiq with the K-menu
(shown); or by typing **\<alt + space\>** followed by **bals** and then
pressing **\<enter\>**; or by typing `balsamiq` followed by **\<enter\>** in
the terminal.

![K19-10 Balsamic - Start
1](/images/2019-10-04/20191004_161318.png "K19-10 Balsamic - Start  1")

![K19-10 Balsamic - Start
2](/images/2019-10-04/20191004_161038.png "K19-10 Balsamic - Start 2")

### 10.4. IntelliJ
#### 10.4.1. Download IntelliJ Ultimate
IntelliJ Ultimate is a fantastic productivity tool. A free 30 trial is
provided, and an individual license is [$149 a
year](https://www.jetbrains.com/idea/buy/#personal?billing=yearly).
For us, it is very much worth it.

Download from the [Jetbrains
website](https://www.jetbrains.com/idea/download#section=linux).

![K19-10 IntelliJ -
Download](/images/2019-10-04/20191004_161753.png "K19-10 IntelliJ - Download")

Save the download as file.

![K19-10 IntelliJ - Save as
file](/images/2019-10-04/20191004_161812.png "K19-10 IntelliJ - Save as file")

**After the download is complete**, enter the following into the terminal to
generate the SHA256 hash for the package.  Ensure this matches the sum found
by clicking on **SHA-256 Checksum** link on the download page.  If the
checksums do not match (highly unlikely) **do not proceed** as this means the
package downloaded does not match the one the vendor is distributing. We
should notify the vendor if we encounter this issue.

```bash
sha256sum ~/Downloads/ideaIU-2019.2.3.tar.gz
```


#### 10.4.2. Install to /usr/local/lib
Enter the following into the terminal to install IntelliJ to /usr/local/lib.

```bash
sudo tar xvzf ~/Downloads/ideaIU-2019.2.3.tar.gz -C /usr/local/lib
```

![K19-10 IntelliJ - Install to
/usr/local/lib](/images/2019-10-04/20191004_162012.png "K19-10 IntelliJ - Install to /usr/local/lib")
![K19-10 IntelliJ - Install
output](/images/2019-10-04/20191004_162034.png "K19-10 IntelliJ - Install output")

#### 10.4.3. Create symbolic links
Symbolic links ensures the paths used by the desktop do not change. We update
the link to new pointers when we upgrade IntelliJ. Notice the IntelliJ release
number (`192.6817.14` in the code below) changes with every release and the
**\_tgt\_dir** variable must be changed when that happens.  Enter the
following into the terminal create the desired links.

```bash
_tgt_dir="idea-IU-192.6817.14";
sudo ls >/dev/null && \
  if [ -d "/usr/local/lib/${_tgt_dir}" ]; then
    cd /usr/local/lib; sudo ln -s "${_tgt_dir}" intellij;
    cd /usr/local/bin; sudo ln -s ../lib/intellij/bin/idea.sh intellij;
    sudo mkdir -p /usr/local/img;
    cd /usr/local/img;
    sudo ln -s ../lib/intellij/bin/idea.svg ./intellij.svg;
    echo "SUCCESS: Install IntelliJ symlinks";
  else
    echo "FAIL   : Install IntelliJ symlinks";
    echo "  Please ensure distribution has been installed at ${_tgt_dir}";
    echo "  Update the version if needed in this script and try again.";
  fi
```

![K19-10 IntelliJ - Create symbolic
links](/images/2019-10-04/20191004_162541.png "K19-10 IntelliJ - Create symbolic links")

#### 10.4.4. Add desktop file
Enter the following into the terminal to install a desktop file so one can
easily access IntelliJ from the K-menu. We use symbolic links for references
so we do not need to update this file.

```bash
echo '[Desktop Entry]
Version=1.0
Type=Application
Name=intellij
Icon=/usr/local/img/intellij.svg
Exec="/usr/local/bin/intellij" %f
Comment=Develop with pleasure!
Categories=Development;IDE;
Terminal=false
StartupWMClass=jetbrains-intellij' \
  | sudo tee /usr/share/applications/jetbrains-intellij.desktop
```

![K19-10 IntelliJ - Add desktop
file](/images/2019-10-04/20191004_162904.png "K19-10 IntelliJ - Add desktop file")

#### 10.4.5. Start IntelliJ {#start-intellij}
Start IntelliJ with the K-menu (shown); or by typing **\<alt + space\>**
followed by **intellij** and then pressing **\<enter\>**; or by typing `intellij`
followed by **\<enter\>** into the terminal.

![K19-10 IntelliJ - Start
IntelliJ](/images/2019-10-04/20191004_164122.png "K19-10 IntelliJ - Start IntelliJ")

### 10.5. Google Drive (Insync)
Insync provide reliable sync to Google Drive with an unlimited number of
accounts.  It costs [$30 per year](https://www.insynchq.com/pricing) and
provides automatic conversion to LibreOffice files. Enter the following
into the terminal to install insync and the file manager integration.

```bash
sudo apt install -y insync insync-dolphin && insync start
```

We prefer to use Dropbox over GDrive for many uses. GDrive is around 20x
slower than Dropbox for when syncing file.  In addition Google scans
*everything* put into GDrive whereas Dropbox does not.

### 10.6. Jekyll for Github.io Blogs
Enter the following into the terminal to install Jekyll for use with Github
blogs.

```bash
sudo apt install jekyll && sudo gem install jekyll-sitemap
```

After installation is complete, one can start Jekyll in an appropriate
directory and then visit localhost:4000 with a browser to actively develop a
Jekyll site. This process was used to create this document.

```bash
cd Githug/mmikowski.io # Adjust path as needed
jekyll serve
```

### 10.7. MongoDB
Sources have been included in the installation shown above. See
https://docs.mongodb.com/manual/tutorial/install-mongodb-on-ubuntu/.
Read the documentation on **ulimit** to improve performance

### 10.8. Slack
Enter the following into the terminal to install this reliable Electron app.

```bash
sudo apt install -y slack-desktop
```

![K19-10 Slack](/images/2019-10-04/20191009_194722.png "K19-10 Slack")

### 10.9. shrinkpdf {#shrinkpdf}
Use this app to substantially reduce PDF size. Enter the following into the
terminal to create and edit the `~/bin/shrinkpdf` file. Then copy the contents
of [Appendix B](#appendix-b) into the editor.

```bash
mkdir -p ~/bin && touch ~/bin/shrinkpdf && chmod 755 ~/bin/shrinkpdf
kate ~/bin/shrinkpdf
```

Save the file and close the editor. One can now test shrinkpdf on PDF
documents.

### 10.10. Telegram
Enter the following into the terminal to install Telegram.

```bash
sudo apt install -y telegram-desktop
```

![K19-10 Telegram](/images/2019-10-04/20191008_204741.png "K19-10 Telegram")

## 11. Configure and Optimise [(top)](#toc) {#section11}
### 11.1. MarbleMouse - Config
Enter the following into the terminal to configure the MarbleMouse.  Skip this
step there is no MarbleMouse. See also [Ubuntu
reference](https://help.ubuntu.com/community/Logitech_Marblemouse_USB)
[Acceleration concepts](https://forums.linuxmint.com/viewtopic.php?t=276808
for increasing acceleration).

```bash
sudo apt install -y xserver-xorg-input-evdev
```

```bash
echo 'Section "InputClass"
        Identifier  "Marble Mouse"
        MatchProduct "Logitech USB Trackball"
        MatchIsPointer "on"
        MatchDevicePath "/dev/input/event*"
        Driver "evdev"
        Option "ButtonMapping" "1 8 3 4 5 6 7 2 2"
        Option "EmulateWheel" "true"
        Option "EmulateWheelButton" "8"
        Option "ZAxisMapping" "4 5"
        Option "XAxisMapping" "6 7" # Disable for vertical-only scrolling
        Option "Emulate3Buttons" "false"
EndSection
' | sudo tee /usr/share/X11/xorg.conf.d/50-marblemouse.conf
```

![K19-10 MarbleMouse -
Config](/images/2019-10-04/20191004_155343.png "K19-10 MarbleMouse - Config")

### 11.2. Link config files
**After dropbox has synced**, we can link config files from Dropbox.
This helps minimize variance from one environment to another. **We must
create these files into Dropbox first.** Please skip this section if
these files have not been created in the Dropbox folder.

```bash
cd;
for _i in bashrc gitconfig vimrc;
  do _tgt=".${_i}";
  if [ -e "${_tgt}" ] && ! [ -L "${_tgt}" ]; then mv "${_tgt}" "${_tgt}.O"; fi
  rm -f "${_tgt}"; ln -s "Dropbox/01_SharedConfig/${_i}" "${_tgt}";
  if [ -e "${_tgt}.O" ]; then
    echo "Merge old config into linked ${_tgt}.";
    echo "To keep all changes, just close Meld.";
    echo "Press <enter> to continue.";
    read -r _ignore;
    meld "${_tgt}.O" "${_tgt}";
  fi
done
```

### 11.3. IntelliJ - Set Darcula theme
[Start IntelliJ](#start-intellij) and then Choose File \> Settings \> Editor
\> Color Scheme \> Darcula

![K19-10 IntelliJ - Set Darcula
Theme](/images/2019-10-04/20191004_164454.png "K19-10 IntelliJ - Set Darcula Theme")

### 11.4. NFS - Add Network Disks
The automounter will wait until the network is available before attempting to
mount any disk marked with a `_netdev` flag in `/etc/fstab`. This is needed
for NFS and other network file systems. See [Ubuntu NFSv4](https://help.ubuntu.com/community/NFSv4Howto) and [NFSv4 at Boot](http://thenubbyadmin.com/2013/04/10/solving-nfs-mounts-at-boot-time/).

#### 11.4.1. Install the nfsv4 client
Enter the following into the terminal to ensure the NFSv4 client is
installed.

```bash
sudo apt-get install -y nfs-common
```

#### 11.4.2. Add NFS drives
Add NFS drives in `/etc/fstab`, one per line, using the following format:
`<nfs_server>:<export_dir> <mount_dir> nfs _netdev,auto 0 0`.

### 11.5. Optimize Chrome GPU
This only works with Nvidia GPUs and drivers. Other GPUs will work with
varying degrees of success.

#### 11.5.1. VDPAU
Enter the following into the terminal to ensure VDPAU drivers are installed.

```bash
sudo apt install -y vdpau-driver-all vdpauinfo
```
#### 11.5.2. Change Chrome flags
Enable all GFX acceleration in Chrome.  Check GPU status with chrome://gpu.
Adjust flags to enable GPU capabilities in chrome://flags and enable these
flags. These names are exact as of Chome 77.

-  GPU Rasterization
-  Native client
-  Out of ordered rasterization
-  Override software rendering list
-  Skia API for OOP-D compositing
-  Zero-copy rasterizer

#### 11.5.3. Update desktop file
Enter the following into the terminal to edit the google-chrome desktop file.

```bash
sudo kate /usr/share/applications/google-chrome.desktop
```
Replace `Exec=/usr/bin/google-chrome-stable`
with `Exec=/usr/bin/google-chrome-stable --enable-native-gpu-memory-buffers
--enable-zero-copy`. There are be 3 replacements.

Enter the following into the terminal to find and (optionally) delete any
`google-chrome.desktop` files that could override the system file.

```bash
sudo rm -i $(sudo updatedb && locate google-chrome.desktop \
  | grep -v '/usr/share/applications' )
```

![K19-10 Optimise Chrome
GPU](/images/2019-10-04/20191004_200050.png "K19-10 Optimize Chrome GPU")

See chrome://gpu to confirm the following results.

```bash
# Canvas                           : Hardware accelerated
# Flash                            : Hardware accelerated
# Flash Stage3D                    : Hardware accelerated
# Flash Stage3D Baseline profile   : Hardware accelerated
# Compositing                      : Hardware accelerated
# Multiple Raster Threads          : Enabled
# Out-of-process Rasterization     : Hardware accelerated
# Hardware Protected Video Decode  : Hardware accelerated
# Rasterization                    : Hardware accelerated
# Skia Renderer                    : Enabled
# Video Decode                     : Hardware accelerated
# Viz Display Compositor           : Enabled
# Viz Hit-test Surface Layer       : Enabled
# WebGL                            : Hardware accelerated
# WebGL2                           : Hardware accelerated
```

IMPORTANT: Disable desktop compositing **\<shift + alt + f12\>** to maximize
OGL/Vulcan perf. Frame rates can increase by 10x in some cases.

![K19-10 Optimize Chrome
GPU](/images/2019-10-04/20191004_192059.png "K19-10 Optimize Chrome GPU")

![K19-10 Optimize Chrome
GPU](/images/2019-10-04/20191004_204356.png "K19-10 Optimize Chrome GPU")

## Appendix A [(top)](#toc) {#appendix-a}
All these were purchased from NewEgg. [Return to Section 1](#section1).

### Case: Fractal Design Meshify S2
Black ATX Modular High-Airflow Tempered Glass Window Mid Tower Computer Case

### CPU: Intel Core i9-9900K
Intel Core i9-9900K Coffee Lake 8-Core, 16-Thread, 3.6 GHz (5.0 GHz Turbo) LGA
1151 (300 Series) 95W BX80684I99900K Desktop Processor Intel UHD Graphics 630

### CPU Cooler: EVGA CLC 240mm All-In-One
EVGA CLC 240mm All-In-One RGB LED CPU Liquid Cooler, 2x FX12 120mm PWM Fans,
Intel, AMD, 400-HY-CL24-V1

### Display: Dell 34" 3440x1440 Monitor
Dell U3417W 34" 3440x1440 2K Resolution 60Hz 5ms DisplayPort Mini-DisplayPort
2xHDMI USB 3.0 Hub Built-in Speakers White Edgelit LED IPS Curved Monitor

### GPU: EVGA GeForce RTX 2080 Ti XC Hybrid
EVGA GeForce RTX 2080 Ti DirectX 12 11G-P4-2384-KR 11GB 352-Bit GDDR6 PCI
Express 3.0 HDCP Ready XC HYBRID GAMING, 11GB GDDR6, HYBRID & RGB LED

### Display: 
### Keyboard: Logitech K310
Washable full-feature keyboard.

### Motherboard: ASUS ROG Strix Z390-E Gaming
ASUS ROG Strix Z390-E Gaming LGA 1151 (300 Series) Intel Z390 SATA 6Gb/s ATX
Intel Motherboard

### Pointer: Logitech MarbleMouse
We love the Logitech MarbleMouse. The trackball provides great control while
avoiding repetitive stress injuries.

### PSU: EVGA SuperNOVA 850 G2
220-G2-0850-XR 80+ GOLD 850W Fully Modular EVGA ECO Mode Includes FREE Power
On Self Tester Power Supply

### RAM: G.SKILL TridentZ 64GB 3600 MHz
G.SKILL TridentZ Series 64GB (4 x 16GB) 288-Pin DDR4 SDRAM DDR4 3600 (PC4
28800) Intel Z370 / X299 Desktop Memory Model F4-3600C17Q-64GTZKW

### Storage: SAMSUNG 970 PRO M.2 1TB
SAMSUNG 970 PRO M.2 2280 1TB PCIe Gen3. X4, NVMe 1.3 64L V-NAND 2-bit MLC
Internal Solid State Drive (SSD) MZ-V7P1T0BW

### UPS: CyberPower 1500VA

### Webcam: Logitech Webcam C615.
Works out-of-the-box with Hangouts, Skype, Zoom, and other apps. Includes
1080p/30fps and a good mic.

[Return to Section 1](#section1)

## Appendix B [(top)](#toc) {#appendix-b}

Content for the `shrinkpdf` file. [Return to Section 10.9 Shrinkpdf](#shrinkpdf)

```bash
#!/bin/sh
# http://www.alfredklomp.com/programming/shrinkpdf
# Licensed under the 3-clause BSD license:
#
# Copyright (c) 2014, Alfred Klomp
# All rights reserved.
#
# Redistribution and use in source and binary forms, with or without
# modification, are permitted provided that the following conditions are met:
# 1. Redistributions of source code must retain the above copyright notice,
#    this list of conditions and the following disclaimer.
# 2. Redistributions in binary form must reproduce the above copyright notice,
#    this list of conditions and the following disclaimer in the documentation
#    and/or other materials provided with the distribution.
# 3. Neither the name of the copyright holder nor the names of its contributors
#    may be used to endorse or promote products derived from this software
#    without specific prior written permission.
#
# THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
# AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
# IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
# ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE
# LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
# CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
# SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
# INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
# CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
# ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
# POSSIBILITY OF SUCH DAMAGE.

# Low dpi (72) = better compression. High (300) = better quality
_dpi=72;

shrink () {
  gs \
    -q -dNOPAUSE -dBATCH -dSAFER        \
    -sDEVICE=pdfwrite                   \
    -dCompatibilityLevel=1.3            \
    -dPDFSETTINGS=/screen               \
    -dEmbedAllFonts=true                \
    -dSubsetFonts=true                  \
    -dColorImageDownsampleType=/Bicubic \
    -dColorImageResolution="${_dpi}"    \
    -dGrayImageDownsampleType=/Bicubic  \
    -dGrayImageResolution="${_dpi}"     \
    -dMonoImageDownsampleType=/Bicubic  \
    -dMonoImageResolution="${_dpi}"     \
    -sOutputFile="${2}"                 \
    "${1}";
}

check_smaller () {
  # If $1 and $2 are regular files, we can compare file sizes to
  # see if we succeeded in shrinking. If not, we copy $1 over $2:
  if [ ! -f "${1}" -o ! -f "${2}" ]; then
    return 0;
  fi
  ISIZE="$(echo $(wc -c "${1}") | cut -f1 -d\ )";
  OSIZE="$(echo $(wc -c "${2}") | cut -f1 -d\ )";
  if [ "${ISIZE}" -lt "${OSIZE}" ]; then
    echo "Input smaller than output, doing straight copy" >&2
    cp "${1}" "${2}";
  fi
}

usage () {
  echo "Reduces PDF filesize by lossy recompressing with Ghostscript.";
  echo "Not guaranteed to succeed, but usually works.";
  echo "  Usage: ${1} infile [outfile]";
}

IFILE="${1}";

# Set input file name
if [ -z "${IFILE}" ]; then
  usage "${0}";
  exit 1;
fi

# Default output filename to - (stdout) unless given
if [ ! -z "${2}" ]; then
  OFILE="${2}";
else
  OFILE="-";
fi

shrink "${IFILE}" "${OFILE}" || exit $?;
check_smaller "${IFILE}" "${OFILE}";
```

[Return to Section 10.9 Shrinkpdf](#shrinkpdf)

## End [(top)](#toc)
Last update 2019-10-21

